<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhml"
      xmlns:th="http://www.thymeleaf.org" lang="EN">
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="data:,">

  <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">
  <link th:rel="stylesheet" th:href="@{/webjars/font-awesome/6.2.1/css/all.css} "/>


  <title>Mediscreen Application</title>
</head>
<body>
<nav class="navbar navbar-dark navbar-expand" style="background-color: #e9ecef">
  <div class="container">
    <div class="navbar-brand bg-success" style="padding: 10px; border-radius: 5px">
      <i class="fa fa-heart" aria-hidden="true"></i>
      Mediscreen
    </div>

    <div class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
      <ul class="navbar-nav">
        <li class="nav-item ">
          <a class="nav-link" style="color: black;font-size: larger;" href="/">
            <i class="fa fa-home" aria-hidden="true"></i>
            Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" style="color: black;font-size: larger;" href="/patient/list">
            <i class="fa-solid fa-hospital-user"></i>
            Patients
          </a>
        </li>
        <li class="nav-item">
          <a  class="nav-link " style="color: black;font-size:larger;" href="">
            <i class="fa-solid fa-user-doctor"></i>
            Observations
          </a>
        </li>
      </ul>
    </div>

  </div>
</nav>

<div class="container special" style=" padding-top: 50px;">
  <div>
    <button type="button" class="btn btn-success h6" >
      <a class="h6" href="/patient/list" style="text-decoration: none; color: white"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
    </button>
  </div>
  <h2>Patient :
    <span th:text="${patientName}"></span>
  </h2>

  <div>
    <span th:text="${#temporals.format(date, 'yyyy-MM-dd HH:mm')}"></span>
  </div>

  <div style="display: flex;">
    <div style="width: 10%; background-color: #F1C864;">
      <label style="font-weight: bold;">Age : </label>
      <span th:text="${agePatient}"></span>
    </div>
    <div style="width: 10%; background-color: #F1C864;">
      <label style="font-weight: bold;">Sexe :</label>
      <span th:text="${sexePatient}"></span>
    </div>
    <div style="width: 15%; background-color: #F1C864;">
      <label style="font-weight: bold;">Triggers Counter : </label>
      <span th:text="${countTriggers}"></span>
    </div>
    <div  style="width: 20%; background-color: #F1C864;">
      <label style="font-weight: bold;">Level of Risk : </label>
      <span th:text="${assessmentsLevelOfRisk}"></span>
    </div>
  </div>

  <div class="m-2 d-flex justify-content-end">
    <button type="button" class="btn btn-success p-2" >
      <a class="h6 mr-3" href="#" style="text-decoration: none; color: white" th:href="@{/note/newForm/{patientId}(patientId=${patientId})}"> <i class="fa fa-plus" aria-hidden="true"></i> Add New Note</a>
    </button>
  </div>


  <div class="table-responsive">
    <table class="table table-striped text-center table-sm" style="border: 2px solid #343A40!important;">
      <thead style="background-color: #28A745; ">
      <tr style="color: white; line-height: 60px; min-height: 60px; height: 60px;">
        <th>Date</th>
        <th>Recommendation</th>
        <th><i class="fa fa-cogs" aria-hidden="true"></i></th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="note: ${notes}">
        <td th:text="${note.date}"></td>
        <td th:text="${note.recommendation}" style="text-align: start;"></td>
        <td>
          <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-primary h6">
              <a class="h6 mr-3" th:href="@{/note/showEditForm/{id}/{patientId}(id=${note.id}, patientId=${patientId})}" style="text-decoration: none; color: white"><i class="fa fa-pencil" aria-hidden="true"></i></a>

            </button>
            <button type="button" class="btn btn-danger h6" >
              <a class="h6" th:href="@{/note/delete/{id}(id=${note.id})}" style="text-decoration: none; color: white"><i class="fa-solid fa-trash"></i></a>
            </button>
          </div>
        </td>

      </tr>
      </tbody>
    </table>


  </div>
</div>

</body>
</html>